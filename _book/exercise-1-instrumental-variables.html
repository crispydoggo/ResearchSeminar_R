<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Exercise 1: Instrumental Variables | _main.knit</title>
  <meta name="description" content="These are the online lecture notes for empirical methods using R from Jaakko’s Research Seminar at ITAM." />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Exercise 1: Instrumental Variables | _main.knit" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/logo.png" />
  <meta property="og:description" content="These are the online lecture notes for empirical methods using R from Jaakko’s Research Seminar at ITAM." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Exercise 1: Instrumental Variables | _main.knit" />
  
  <meta name="twitter:description" content="These are the online lecture notes for empirical methods using R from Jaakko’s Research Seminar at ITAM." />
  <meta name="twitter:image" content="/images/logo.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="empirical-methods-resources.html"/>
<link rel="next" href="rdd.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/logo.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>R crash course</b></span></li>
<li class="chapter" data-level="1" data-path="setting-r.html"><a href="setting-r.html"><i class="fa fa-check"></i><b>1</b> Setting R</a></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R Basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#installing-packages"><i class="fa fa-check"></i><b>2.1</b> Installing Packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>3</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-wrangling.html"><a href="data-wrangling.html#data-set"><i class="fa fa-check"></i><b>3.1</b> Data Set</a></li>
<li class="chapter" data-level="3.2" data-path="data-wrangling.html"><a href="data-wrangling.html#dplyrs-wonder"><i class="fa fa-check"></i><b>3.2</b> Dplyr’s Wonder</a>
<ul>
<li class="chapter" data-level="" data-path="data-wrangling.html"><a href="data-wrangling.html#add-or-change-variables"><i class="fa fa-check"></i>1. Add or change variables</a></li>
<li class="chapter" data-level="" data-path="data-wrangling.html"><a href="data-wrangling.html#filter-the-data-set"><i class="fa fa-check"></i>2. Filter the data set</a></li>
<li class="chapter" data-level="" data-path="data-wrangling.html"><a href="data-wrangling.html#select-variables-of-interest"><i class="fa fa-check"></i>3. Select variables of interest</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="joining-data.html"><a href="joining-data.html"><i class="fa fa-check"></i><b>4</b> Joining Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="joining-data.html"><a href="joining-data.html#join-verbs"><i class="fa fa-check"></i><b>4.1</b> Join verbs</a>
<ul>
<li class="chapter" data-level="" data-path="joining-data.html"><a href="joining-data.html#left-join"><i class="fa fa-check"></i>Left Join</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="plotting-with-r.html"><a href="plotting-with-r.html"><i class="fa fa-check"></i><b>5</b> Plotting with R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="plotting-with-r.html"><a href="plotting-with-r.html#the-magic-of-ggplot2"><i class="fa fa-check"></i><b>5.1</b> The magic of ggplot2</a>
<ul>
<li class="chapter" data-level="" data-path="plotting-with-r.html"><a href="plotting-with-r.html#data"><i class="fa fa-check"></i>1. Data</a></li>
<li class="chapter" data-level="" data-path="plotting-with-r.html"><a href="plotting-with-r.html#aesthetics"><i class="fa fa-check"></i>2. Aesthetics</a></li>
<li class="chapter" data-level="" data-path="plotting-with-r.html"><a href="plotting-with-r.html#geometrics"><i class="fa fa-check"></i>3. Geometrics</a></li>
<li class="chapter" data-level="" data-path="plotting-with-r.html"><a href="plotting-with-r.html#themes"><i class="fa fa-check"></i>4. Themes</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="plotting-with-r.html"><a href="plotting-with-r.html#ggthemes"><i class="fa fa-check"></i><b>5.2</b> Ggthemes</a></li>
<li class="chapter" data-level="5.3" data-path="plotting-with-r.html"><a href="plotting-with-r.html#export-your-graph"><i class="fa fa-check"></i><b>5.3</b> Export your graph</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="fancy-tables.html"><a href="fancy-tables.html"><i class="fa fa-check"></i><b>6</b> Fancy Tables</a>
<ul>
<li class="chapter" data-level="6.1" data-path="fancy-tables.html"><a href="fancy-tables.html#guides-for-styling"><i class="fa fa-check"></i><b>6.1</b> Guides for styling</a></li>
<li class="chapter" data-level="6.2" data-path="fancy-tables.html"><a href="fancy-tables.html#latex"><i class="fa fa-check"></i><b>6.2</b> Latex</a></li>
<li class="chapter" data-level="6.3" data-path="fancy-tables.html"><a href="fancy-tables.html#for-word"><i class="fa fa-check"></i><b>6.3</b> For Word</a></li>
</ul></li>
<li class="part"><span><b>Empirical Methods</b></span></li>
<li class="chapter" data-level="7" data-path="empirical-methods-resources.html"><a href="empirical-methods-resources.html"><i class="fa fa-check"></i><b>7</b> Empirical methods resources</a></li>
<li class="chapter" data-level="8" data-path="exercise-1-instrumental-variables.html"><a href="exercise-1-instrumental-variables.html"><i class="fa fa-check"></i><b>8</b> Exercise 1: Instrumental Variables</a>
<ul>
<li class="chapter" data-level="8.1" data-path="exercise-1-instrumental-variables.html"><a href="exercise-1-instrumental-variables.html#packages-and-data"><i class="fa fa-check"></i><b>8.1</b> Packages and Data</a></li>
<li class="chapter" data-level="8.2" data-path="exercise-1-instrumental-variables.html"><a href="exercise-1-instrumental-variables.html#paper-discussion"><i class="fa fa-check"></i><b>8.2</b> Paper Discussion</a></li>
<li class="chapter" data-level="8.3" data-path="exercise-1-instrumental-variables.html"><a href="exercise-1-instrumental-variables.html#endogeneity-discussion"><i class="fa fa-check"></i><b>8.3</b> Endogeneity Discussion</a></li>
<li class="chapter" data-level="8.4" data-path="exercise-1-instrumental-variables.html"><a href="exercise-1-instrumental-variables.html#instrumental-variables"><i class="fa fa-check"></i><b>8.4</b> Instrumental Variables</a></li>
<li class="chapter" data-level="8.5" data-path="exercise-1-instrumental-variables.html"><a href="exercise-1-instrumental-variables.html#iv-part-2"><i class="fa fa-check"></i><b>8.5</b> IV Part 2</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="rdd.html"><a href="rdd.html"><i class="fa fa-check"></i><b>9</b> RDD</a></li>
<li class="chapter" data-level="10" data-path="dd.html"><a href="dd.html"><i class="fa fa-check"></i><b>10</b> DD</a></li>
<li class="divider"></li>
<li><a href="https://github.com/crispydoggo/Research_Seminar" target="blank">Source code</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<link href="style.css" rel="stylesheet">
<div class="hero-image-container"> 
  <img class= "hero-image" src="images/hero.png">
</div>
<div id="exercise-1-instrumental-variables" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">8</span> Exercise 1: Instrumental Variables<a href="exercise-1-instrumental-variables.html#exercise-1-instrumental-variables" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this exercise, we will replicate some of the results of the paper <strong>“The Colonial Origins of Comparative Development: An Empirical Investigation”</strong> by Acemoglu, Johnson, and Robinson. This paper was published in the American Economic Review in 2003. You can find the paper, its data, and Jaakko’s exercise here:</p>
<ul>
<li><a href="https://www.dropbox.com/sh/474ak5intcyq4ap/AADZQBCzcjnt6o0mjFixox3Ma/exercise_1?dl=0&amp;subfolder_nav_tracking=1">Exercise 1</a></li>
</ul>
<p>For the theory and context of the method, check <a href="https://mixtape.scunning.com/07-instrumental_variables">Chapter 7</a> of Scott Cunningham’s Causal Inference Mixtape.</p>
<div id="packages-and-data" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Packages and Data<a href="exercise-1-instrumental-variables.html#packages-and-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will use the following packages: install them before loading them.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="exercise-1-instrumental-variables.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Data arrange, importing data, strings and more. Check what it includes!</span></span>
<span id="cb19-2"><a href="exercise-1-instrumental-variables.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb19-3"><a href="exercise-1-instrumental-variables.html#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="exercise-1-instrumental-variables.html#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Read .dta Format</span></span>
<span id="cb19-5"><a href="exercise-1-instrumental-variables.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven) </span>
<span id="cb19-6"><a href="exercise-1-instrumental-variables.html#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="exercise-1-instrumental-variables.html#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Robust standard errors</span></span>
<span id="cb19-8"><a href="exercise-1-instrumental-variables.html#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(estimatr)</span>
<span id="cb19-9"><a href="exercise-1-instrumental-variables.html#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="exercise-1-instrumental-variables.html#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. ivreg: instrumental variables</span></span>
<span id="cb19-11"><a href="exercise-1-instrumental-variables.html#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ivreg) </span></code></pre></div>
<p>We read the data, In our case, the data is stored in a folder named “Data” within the R project. You should specify your data’s directory.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="exercise-1-instrumental-variables.html#cb20-1" aria-hidden="true" tabindex="-1"></a>MI <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;./Data/final_dataset_MI.dta&quot;</span>)</span>
<span id="cb20-2"><a href="exercise-1-instrumental-variables.html#cb20-2" aria-hidden="true" tabindex="-1"></a>table5 <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;./Data/maketable5.dta&quot;</span>)</span></code></pre></div>
<p>Further, we only select the variables of interest and clean the NA’s.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="exercise-1-instrumental-variables.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Select Variables of Interest</span></span>
<span id="cb21-2"><a href="exercise-1-instrumental-variables.html#cb21-2" aria-hidden="true" tabindex="-1"></a>MI <span class="ot">&lt;-</span> MI <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="exercise-1-instrumental-variables.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>( change10_ineq, pre_demo_ineg_best, acemoglu_demo, ccodealp)</span>
<span id="cb21-4"><a href="exercise-1-instrumental-variables.html#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="exercise-1-instrumental-variables.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Remove NA&#39;s</span></span>
<span id="cb21-6"><a href="exercise-1-instrumental-variables.html#cb21-6" aria-hidden="true" tabindex="-1"></a>MI <span class="ot">&lt;-</span> MI <span class="sc">%&gt;%</span> </span>
<span id="cb21-7"><a href="exercise-1-instrumental-variables.html#cb21-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">filter</span>( <span class="sc">!</span><span class="fu">is.na</span>(change10_ineq))</span></code></pre></div>
</div>
<div id="paper-discussion" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Paper Discussion<a href="exercise-1-instrumental-variables.html#paper-discussion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Acemoglu et al. study institutions with <strong>more secure property rights</strong> and <strong>less distortionary policies</strong>; they are referred to as “good institutions”. They are measured with the <strong>Average Protection Against Expropriation Risk</strong>, which is measured on a scale from 0 to 10. Their main finding regards the role of institutions in development: <strong>the higher the protection of property rights, the higher the income per capita.</strong></p>
</div>
<div id="endogeneity-discussion" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Endogeneity Discussion<a href="exercise-1-instrumental-variables.html#endogeneity-discussion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Institutions may be endogenous for various reasons. Acemoglu et al. thus use an instrumental variables approach. The proposed instrument is the <strong>mortality of settlers</strong>; they justify it by arguing that the mortality of settlers <strong>doesn’t</strong> affect the <strong>GDP per capita today</strong>.</p>
<p>Yet, the <strong>exclusion restriction</strong> states that the instrument <span class="math inline">\(Z\)</span> must also be uncorrelated with the error term, <span class="math inline">\(\epsilon\)</span>. A <strong>threat</strong> is that past health determines <strong>current health</strong>; thus, past health is correlated with GDP. Although, they justify the uncorrelatedness of mortality with GDP by arguing that the natives were resilient to the diseases that killed the settlers.</p>
</div>
<div id="instrumental-variables" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Instrumental Variables<a href="exercise-1-instrumental-variables.html#instrumental-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Plot a nice-looking graph that illustrates the relationship between the outcome variable and the instrument.</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="exercise-1-instrumental-variables.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">filter</span>(table5, f_french <span class="sc">+</span> f_brit <span class="sc">&gt;=</span> <span class="dv">1</span>), <span class="fu">aes</span>( <span class="at">y =</span> logpgp95, <span class="at">x =</span> logem4, <span class="at">label =</span> shortnam)) <span class="sc">+</span></span>
<span id="cb22-2"><a href="exercise-1-instrumental-variables.html#cb22-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-3"><a href="exercise-1-instrumental-variables.html#cb22-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb22-4"><a href="exercise-1-instrumental-variables.html#cb22-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb22-5"><a href="exercise-1-instrumental-variables.html#cb22-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Log of Settler Mortality&quot;</span>, <span class="at">y =</span> <span class="st">&quot; Log GDP Per-Capita 1995&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Figure 1. Reduced form Relationship </span></span>
<span id="cb22-6"><a href="exercise-1-instrumental-variables.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="st"> &quot;</span>)<span class="sc">+</span></span>
<span id="cb22-7"><a href="exercise-1-instrumental-variables.html#cb22-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">hjust=</span><span class="dv">0</span>, <span class="at">vjust=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb22-8"><a href="exercise-1-instrumental-variables.html#cb22-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_classic</span>() </span></code></pre></div>
<p><img src="_main_files/figure-html/graph_2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Then, let us have a look at the reduced-form regression more formally. Run the regressions in part (b) but replace institutional quality with the instrumental variable. Briefly discuss the regression results.</li>
</ol>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="exercise-1-instrumental-variables.html#cb23-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(logpgp95 <span class="sc">~</span> logem4, <span class="at">data =</span> table5)</span>
<span id="cb23-2"><a href="exercise-1-instrumental-variables.html#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="exercise-1-instrumental-variables.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(f1)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = logpgp95 ~ logem4, data = table5)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -2.71304 -0.53326  0.01954  0.47188  1.44673 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 10.66025    0.30528   34.92  &lt; 2e-16 ***
## logem4      -0.56412    0.06389   -8.83 2.09e-13 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.7563 on 79 degrees of freedom
##   (82 observations deleted due to missingness)
## Multiple R-squared:  0.4967, Adjusted R-squared:  0.4903 
## F-statistic: 77.96 on 1 and 79 DF,  p-value: 2.094e-13</code></pre>
<p>We note that the F-Statistic is 77.96 , therefore the instrument is strong.</p>
</div>
<div id="iv-part-2" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> IV Part 2<a href="exercise-1-instrumental-variables.html#iv-part-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Try now repeating the regressions in part (b) using IV estimation. Discuss both the first stage and 2SLS results.
Try also locating the first-stage F statistic in the regression output.</p>
<ul>
<li>Is the instrument weak or strong?</li>
<li>Do you know why it is important to have a strong instrument?</li>
</ul>
<p>Run then the following OLS regressions, and use robust standard errors:</p>
<ol style="list-style-type: decimal">
<li><p>Regress the outcome variable on institutional quality, no controls</p></li>
<li><p>Regress the outcome variable on institutional quality, and control for an indicator for French legal origin, being a former French colony, share of Catholics, share of Muslims, and share of other than Catholic/Protestant/Muslim</p></li>
</ol>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="exercise-1-instrumental-variables.html#cb25-1" aria-hidden="true" tabindex="-1"></a>lm_2 <span class="ot">&lt;-</span> <span class="fu">lm_robust</span>(logpgp95 <span class="sc">~</span> sjlofr <span class="sc">+</span> f_french <span class="sc">+</span> avexpr <span class="sc">+</span> catho80 <span class="sc">+</span> muslim80 <span class="sc">+</span> no_cpm80 , <span class="at">data =</span> table5)</span>
<span id="cb25-2"><a href="exercise-1-instrumental-variables.html#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="exercise-1-instrumental-variables.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_2)</span></code></pre></div>
<pre><code>## 
## Call:
## lm_robust(formula = logpgp95 ~ sjlofr + f_french + avexpr + catho80 + 
##     muslim80 + no_cpm80, data = table5)
## 
## Standard error type:  HC2 
## 
## Coefficients:
##               Estimate Std. Error t value  Pr(&gt;|t|)  CI Lower   CI Upper  DF
## (Intercept)  4.6663414   0.403283 11.5709 2.131e-20  3.866617  5.4660660 104
## sjlofr       0.2124659   0.227705  0.9331 3.529e-01 -0.239082  0.6640135 104
## f_french    -0.2827433   0.199424 -1.4178 1.592e-01 -0.678208  0.1127215 104
## avexpr       0.5417709   0.035225 15.3802 1.521e-28  0.471918  0.6116239 104
## catho80      0.0009357   0.002681  0.3491 7.277e-01 -0.004380  0.0062514 104
## muslim80    -0.0012009   0.003041 -0.3949 6.937e-01 -0.007231  0.0048291 104
## no_cpm80    -0.0063496   0.002810 -2.2598 2.592e-02 -0.011922 -0.0007776 104
## 
## Multiple R-squared:  0.6701 ,    Adjusted R-squared:  0.651 
## F-statistic: 101.8 on 6 and 104 DF,  p-value: &lt; 2.2e-16</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Regress the outcome variable on institutional quality, control for location of the capital (absolute latitude), an indicator for French legal origin, being a former French colony, share of Catholics, share of Muslims, and share of other than Catholic/Protestant/Muslim</li>
</ol>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="exercise-1-instrumental-variables.html#cb27-1" aria-hidden="true" tabindex="-1"></a>lm_3 <span class="ot">&lt;-</span> <span class="fu">lm_robust</span>(logpgp95 <span class="sc">~</span>  avexpr <span class="sc">+</span> lat_abst <span class="sc">+</span> sjlofr <span class="sc">+</span> f_french <span class="sc">+</span> catho80 <span class="sc">+</span> muslim80 <span class="sc">+</span> no_cpm80 , <span class="at">data =</span> table5)</span>
<span id="cb27-2"><a href="exercise-1-instrumental-variables.html#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="exercise-1-instrumental-variables.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_3)</span></code></pre></div>
<pre><code>## 
## Call:
## lm_robust(formula = logpgp95 ~ avexpr + lat_abst + sjlofr + f_french + 
##     catho80 + muslim80 + no_cpm80, data = table5)
## 
## Standard error type:  HC2 
## 
## Coefficients:
##               Estimate Std. Error t value  Pr(&gt;|t|)  CI Lower CI Upper  DF
## (Intercept)  4.7837413   0.411063 11.6375 1.742e-20  3.968495 5.598987 103
## avexpr       0.4769486   0.056589  8.4283 2.246e-13  0.364718 0.589179 103
## lat_abst     0.8427422   0.522582  1.6126 1.099e-01 -0.193677 1.879161 103
## sjlofr       0.2143537   0.220776  0.9709 3.339e-01 -0.223504 0.652211 103
## f_french    -0.2961695   0.189465 -1.5632 1.211e-01 -0.671928 0.079589 103
## catho80      0.0022475   0.002708  0.8298 4.086e-01 -0.003124 0.007619 103
## muslim80    -0.0003111   0.003005 -0.1035 9.177e-01 -0.006270 0.005648 103
## no_cpm80    -0.0047503   0.003049 -1.5579 1.223e-01 -0.010798 0.001297 103
## 
## Multiple R-squared:  0.6798 ,    Adjusted R-squared:  0.658 
## F-statistic: 98.54 on 7 and 103 DF,  p-value: &lt; 2.2e-16</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>What is the relationship between institutional quality and income levels?</li>
</ol>
<p>There is a positive relationship between institutional quality and income levels.</p>
<ol start="5" style="list-style-type: decimal">
<li>Is this relationship statistically significant and robust to the inclusion of additional control variables?</li>
</ol>
<p>The relationship is statistically significant in the three cases; nevertheless, with additional control variables the effect of institutional quality decreases.</p>
<ol style="list-style-type: decimal">
<li>Regress the outcome variable on institutional quality, no controls</li>
</ol>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="exercise-1-instrumental-variables.html#cb29-1" aria-hidden="true" tabindex="-1"></a>iv1 <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(logpgp95 <span class="sc">~</span> avexpr <span class="sc">|</span> logem4, <span class="at">data =</span> table5)</span>
<span id="cb29-2"><a href="exercise-1-instrumental-variables.html#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="exercise-1-instrumental-variables.html#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="exercise-1-instrumental-variables.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv1)</span></code></pre></div>
<pre><code>## 
## Call:
## ivreg(formula = logpgp95 ~ avexpr | logem4, data = table5)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -2.28175 -0.55059  0.03401  0.62273  1.57418 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   2.3702     0.8376   2.830  0.00612 ** 
## avexpr        0.8684     0.1250   6.946 1.77e-09 ***
## 
## Diagnostic tests:
##                  df1 df2 statistic  p-value    
## Weak instruments   1  68     29.80 7.29e-07 ***
## Wu-Hausman         1  67     25.17 4.11e-06 ***
## Sargan             0  NA        NA       NA    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.8899 on 68 degrees of freedom
## Multiple R-Squared: 0.3045,  Adjusted R-squared: 0.2942 
## Wald test: 48.25 on 1 and 68 DF,  p-value: 1.771e-09</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Regress the outcome variable on institutional quality, and control for an indicator for French legal origin, being a former French colony, share of Catholics, share of Muslims, and share of other than Catholic/Protestant/Muslim</li>
</ol>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="exercise-1-instrumental-variables.html#cb31-1" aria-hidden="true" tabindex="-1"></a>iv2 <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(logpgp95 <span class="sc">~</span> sjlofr <span class="sc">+</span> f_french <span class="sc">+</span>  catho80 <span class="sc">+</span> muslim80 <span class="sc">+</span> no_cpm80 <span class="sc">|</span> avexpr <span class="sc">|</span> logem4 , <span class="at">data =</span> table5)</span>
<span id="cb31-2"><a href="exercise-1-instrumental-variables.html#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="exercise-1-instrumental-variables.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv2)</span></code></pre></div>
<pre><code>## 
## Call:
## ivreg(formula = logpgp95 ~ sjlofr + f_french + catho80 + muslim80 + 
##     no_cpm80 | avexpr | logem4, data = table5)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -1.8545 -0.5175  0.0298  0.5221  2.0379 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  2.5946375  1.2043687   2.154    0.035 *  
## avexpr       0.8943097  0.1374527   6.506 1.44e-08 ***
## sjlofr       0.3014438  0.3462820   0.871    0.387    
## f_french     0.1505522  0.3184417   0.473    0.638    
## catho80     -0.0007391  0.0090070  -0.082    0.935    
## muslim80    -0.0081192  0.0078708  -1.032    0.306    
## no_cpm80    -0.0136571  0.0087471  -1.561    0.123    
## 
## Diagnostic tests:
##                  df1 df2 statistic  p-value    
## Weak instruments   1  63     21.08 2.16e-05 ***
## Wu-Hausman         1  62     21.92 1.60e-05 ***
## Sargan             0  NA        NA       NA    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.8005 on 63 degrees of freedom
## Multiple R-Squared: 0.4786,  Adjusted R-squared: 0.4289 
## Wald test: 11.31 on 6 and 63 DF,  p-value: 1.541e-08</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Regress the outcome variable on institutional quality, control for location of the capital (absolute latitude), an indicator for French legal origin, being a former French colony, share of Catholics, share of Muslims, and share of other than Catholic/Protestant/Muslim</li>
</ol>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="exercise-1-instrumental-variables.html#cb33-1" aria-hidden="true" tabindex="-1"></a>iv3 <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(logpgp95 <span class="sc">~</span> lat_abst <span class="sc">+</span> sjlofr <span class="sc">+</span> f_french <span class="sc">+</span> catho80 <span class="sc">+</span> muslim80 <span class="sc">+</span> no_cpm80 <span class="sc">|</span> avexpr <span class="sc">|</span> logem4, <span class="at">data =</span> table5)</span>
<span id="cb33-2"><a href="exercise-1-instrumental-variables.html#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="exercise-1-instrumental-variables.html#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv3)</span></code></pre></div>
<pre><code>## 
## Call:
## ivreg(formula = logpgp95 ~ lat_abst + sjlofr + f_french + catho80 + 
##     muslim80 + no_cpm80 | avexpr | logem4, data = table5)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -2.40964 -0.65770 -0.02513  0.75136  2.58007 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)   
## (Intercept)  1.547088   2.148742   0.720   0.4742   
## avexpr       1.131255   0.348786   3.243   0.0019 **
## lat_abst    -2.051906   1.954973  -1.050   0.2980   
## sjlofr       0.363177   0.455680   0.797   0.4285   
## f_french     0.266396   0.432506   0.616   0.5402   
## catho80     -0.002328   0.011631  -0.200   0.8420   
## muslim80    -0.008077   0.010076  -0.802   0.4259   
## no_cpm80    -0.017948   0.012144  -1.478   0.1445   
## 
## Diagnostic tests:
##                  df1 df2 statistic  p-value    
## Weak instruments   1  62     5.943 0.017657 *  
## Wu-Hausman         1  61    15.599 0.000206 ***
## Sargan             0  NA        NA       NA    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.025 on 62 degrees of freedom
## Multiple R-Squared: 0.1593,  Adjusted R-squared: 0.06439 
## Wald test: 6.344 on 7 and 62 DF,  p-value: 1.238e-05</code></pre>
<p>By examinating the weak instrument F statistic, only in the third case by implementing the location of the capital (absolute latitude) the instrument is weak with an F statistic of 5.93 &lt; 10.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="empirical-methods-resources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rdd.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/crispydoggo/Research_Seminar/edit/main/03-IV.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
